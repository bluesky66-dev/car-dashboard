(this["webpackJsonpcar-hoot-react-admin-dashboard"]=this["webpackJsonpcar-hoot-react-admin-dashboard"]||[]).push([[50],{117:function(e,t,r){"use strict";var a=r(0),n=r(6),c=r(1),o=r(20),s=r.n(o),i=r(162),l=(r(121),r(3)),u=function(e){var t,r=e.children,o=e.blocking,i=e.loader,u=e.className,d=e.tag,p=e.overlayColor,b=d;return Object(l.jsxs)(b,{className:s()("ui-loader",(t={},Object(n.a)(t,u,u),Object(n.a)(t,"show",o),t)),children:[r,o?Object(l.jsxs)(c.Fragment,{children:[Object(l.jsx)("div",Object(a.a)({className:"overlay"},o&&p?{style:{backgroundColor:p}}:{})),Object(l.jsx)("div",{className:"loader",children:i})]}):null]})};t.a=u,u.defaultProps={tag:"div",blocking:!1,loader:Object(l.jsx)(i.a,{color:"primary"})}},118:function(e,t,r){},121:function(e,t,r){},123:function(e,t,r){"use strict";var a=r(0),n=r(25),c=r(34),o=r(1),s=r(130),i=r(499),l=r(245),u=r(246),d=r(532),p=r(3),b=function(e){var t=e.type,r=e.error,b=(e.step,e.decimals),j=e.min,f=e.max,m=e.disabled,v=e.placeholder,y=(e.rows,e.label),h=e.name,g=e.defaultValue,O=void 0===g?"":g,x=e.onInputChange,C=e.children,I=e.required,N=void 0!==I&&I,q=e.autoComplete,w=void 0===q?"off":q,k=Object(c.a)(e,["type","error","step","decimals","min","max","disabled","placeholder","rows","label","name","defaultValue","onInputChange","children","required","autoComplete"]),S=Object(o.useState)(""),P=Object(n.a)(S,2),E=(P[0],P[1]),V=Object(o.useState)(!1),A=Object(n.a)(V,2),R=(A[0],A[1]),D=Object(s.b)().register,_=function(e){x(e.target.name,e.target.value),R(!0),E(e.target.value)};if("number"===t){return Object(p.jsxs)(i.a,{children:[y&&Object(p.jsxs)(l.a,{className:"form-label",children:[y," ",N&&Object(p.jsx)("span",{className:"text-danger",children:"*"})]}),Object(p.jsx)(u.a,Object(a.a)({autoComplete:"on",step:"step",min:j||0,max:f||null,pattern:"[0-9]",onInput:function(e){b||(e.target.value=e.target.value.replace(/[^0-9]*/g,""))},type:t,onChange:function(e){_(e)},disabled:m,name:h,value:O,placeholder:v,innerRef:D({required:N})},k)),Object(p.jsx)(d.a,{color:"danger",children:r&&r[0]})]})}return Object(p.jsxs)(i.a,{children:[y&&Object(p.jsxs)(l.a,{className:"form-label",children:[y," ",N&&Object(p.jsx)("span",{className:"text-danger",children:"*"})]}),Object(p.jsx)(u.a,Object(a.a)(Object(a.a)({autoComplete:w,type:t,onChange:function(e){_(e)},disabled:m,name:h,value:O,placeholder:v,innerRef:D({required:N})},k),{},{children:C})),Object(p.jsx)(d.a,{color:"danger",children:r&&r[0]})]})};b.defaultProps={step:1,decimals:!0,rows:"4"},t.a=b},141:function(e,t,r){},155:function(e,t,r){"use strict";r.d(t,"h",(function(){return b})),r.d(t,"g",(function(){return j})),r.d(t,"d",(function(){return f})),r.d(t,"f",(function(){return m})),r.d(t,"e",(function(){return v})),r.d(t,"a",(function(){return y})),r.d(t,"i",(function(){return h})),r.d(t,"b",(function(){return g})),r.d(t,"c",(function(){return O}));var a=r(0),n=r(125),c=r.n(n),o=r(126),s=r(45),i=r.n(s),l=r(46),u=r(7),d=r(134),p=r(135),b=function(e,t){var r={};return r[e]=t,{type:u.f,payload:r}},j=function(e,t){var r={};return r[e]=t,{type:u.d,payload:r}},f=function(){return function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/api/recoveryCategories").then((function(e){t({type:u.h,data:e.data.recoveryCategories})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("/api/recoveryCategories",{params:e}).then((function(t){r({type:u.i,data:t.data.recoveryCategories,totalPages:t.data.total,params:e})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("/api/recoveryCategories/".concat(e)).then((function(e){r({type:u.g,selectedRecoveryCategory:e.data.recoveryCategory})})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(){return function(){var e=Object(o.a)(c.a.mark((function e(t,r){var a,n,o,s,b,j;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={serviceName:"required",serviceCategory:"required",serviceSubCategory:"required",serviceIconUrl:"required",basePrice:"required"},n=r().recoveryCategories.recoveryCategoryFormData,o=Object(p.a)(n,a,{"required.serviceName":"Service name is required.","required.serviceCategory":"Category is required.","required.serviceSubCategory":"Subcategory is required.","required.serviceIconUrl":"Icon Url is required.","required.basePrice":"Base price is required."}),s=o.isValid,b=o.errors,s){e.next=5;break}return e.abrupt("return",t({type:u.k,payload:b}));case 5:return t({type:u.m,payload:!0}),t({type:u.l,payload:!0}),e.prev=7,e.next=10,i.a.post("/api/recoveryCategories",n);case 10:e.sent,t({type:u.a,recoveryCategory:n}),t({type:u.j,payload:{}}),t(m(r().recoveryCategories.params)),t(f()),j={title:"The recoveryCategory has been added successfully!",position:"tr",autoDismiss:1},t(Object(l.success)(j)),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(7),"We were not able to create the recoveryCategory. Please try again.",Object(d.a)(e.t0,t,"We were not able to create the recoveryCategory. Please try again.");case 23:return e.prev=23,t({type:u.m,payload:!1}),t({type:u.l,payload:!1}),e.finish(23);case 27:case"end":return e.stop()}}),e,null,[[7,19,23,27]])})));return function(t,r){return e.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(r,n){var o,s,b,j,f,m;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o={serviceName:"required",serviceCategory:"required",serviceSubCategory:"required",serviceIconUrl:"required",basePrice:"required"},s=Object(a.a)({},n().recoveryCategories.selectedRecoveryCategory),b=Object(p.a)(s,o,{"required.serviceName":"Service name is required.","required.serviceCategory":"Category is required.","required.serviceSubCategory":"Subcategory is required.","required.serviceIconUrl":"Icon Url is required.","required.basePrice":"Base price is required."}),j=b.isValid,f=b.errors,j){t.next=5;break}return t.abrupt("return",r({type:u.k,payload:f}));case 5:return r({type:u.m,payload:!0}),r({type:u.l,payload:!0}),t.prev=7,delete s._id,delete s.createdAt,delete s.updatedAt,delete s.userInfo,delete s.__v,t.next=15,i.a.put("/api/recoveryCategories/".concat(e),s);case 15:r({type:u.j,payload:{}}),m={title:"RecoveryCategory information was updated successfully!",position:"tr",autoDismiss:1},r(Object(l.success)(m)),t.next=24;break;case 20:t.prev=20,t.t0=t.catch(7),"We were not able to update the recoveryCategory. Please try again.",Object(d.a)(t.t0,r,"We were not able to update the recoveryCategory. Please try again.");case 24:return t.prev=24,r({type:u.m,payload:!1}),r({type:u.l,payload:!1}),t.finish(24);case 28:case"end":return t.stop()}}),t,null,[[7,20,24,28]])})));return function(e,r){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(r,a){var n,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.post("/api/recoveryCategories/".concat(e,"/deactivate"));case 3:!0===(n=t.sent).data.success&&(o={title:"".concat(n.data.message),position:"tr",autoDismiss:1},r(Object(l.success)(o)),r({type:u.b})),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),"We were not able to delete the recoveryCategory. Please try again.",Object(d.a)(t.t0,r,"We were not able to delete the recoveryCategory. Please try again.");case 11:return t.prev=11,r({type:u.m,payload:!1}),r({type:u.l,payload:!1}),t.finish(11);case 15:case"end":return t.stop()}}),t,null,[[0,7,11,15]])})));return function(e,r){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(o.a)(c.a.mark((function t(r,a){var n,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.delete("/api/recoveryCategories/".concat(e));case 3:!0===(n=t.sent).data.success&&(o={title:"".concat(n.data.message),position:"tr",autoDismiss:1},r(Object(l.success)(o)),r({type:u.c})),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),"We were not able to delete the recoveryCategory. Please try again.",Object(d.a)(t.t0,r,"We were not able to delete the recoveryCategory. Please try again.");case 11:return t.prev=11,r({type:u.m,payload:!1}),r({type:u.l,payload:!1}),t.finish(11);case 15:case"end":return t.stop()}}),t,null,[[0,7,11,15]])})));return function(e,r){return t.apply(this,arguments)}}()}},189:function(e,t,r){"use strict";var a=r(0),n=r(25),c=r(34),o=r(1),s=r(148),i=r(139),l=r(130),u=r(499),d=r(245),p=r(532),b=r(3);t.a=function(e){var t=e.error,r=e.disabled,j=(e.placeholder,e.label),f=e.name,m=e.defaultValue,v=void 0===m?"":m,y=e.onInputChange,h=e.required,g=void 0!==h&&h,O=(e.autoComplete,e.options),x=void 0===O?[]:O,C=Object(c.a)(e,["error","disabled","placeholder","label","name","defaultValue","onInputChange","required","autoComplete","options"]),I=Object(o.useState)(""),N=Object(n.a)(I,2),q=(N[0],N[1]),w=Object(o.useState)(!1),k=Object(n.a)(w,2),S=(k[0],k[1]);Object(l.b)().register;return Object(b.jsxs)(u.a,{children:[j&&Object(b.jsxs)(d.a,{className:"form-label",children:[j," ",g&&Object(b.jsx)("span",{className:"text-danger",children:"*"})]}),Object(b.jsx)(s.a,Object(a.a)({theme:i.b,className:"react-select",classNamePrefix:"select",defaultValue:v,options:x,isDisabled:r,name:f,isClearable:!1,onChange:function(e,t){t.action,t.removedValue;y(f,e),S(!0),q(e)}},C)),Object(b.jsx)(p.a,{color:"danger",children:t&&t[0]})]})}},592:function(e,t,r){"use strict";r.r(t);var a=r(25),n=r(1),c=r(28),o=r(149),s=r(116),i=r(506),l=r(20),u=r.n(l),d=r(123),p=r(189),b=r(153),j=r(154),f=r(365),m=r(114),v=r(131),y=r(159),h=r(151),g=r(136),O=r(155),x=r(170),C=r(117),I=r(3),N=function(e){var t=e.selectedRecovery,r=Object(n.useState)(null),o=Object(a.a)(r,2),s=(o[0],o[1]),i=Object(c.useDispatch)(),l=Object(c.useSelector)((function(e){return e.users})).allData,N=Object(c.useSelector)((function(e){return e.userCars})).allData,q=Object(c.useSelector)((function(e){return e.employees})),w=q.allData,k=q.agents,S=Object(c.useSelector)((function(e){return e.vendors})),P=S.allData,E=S.employeeAllData,V=Object(c.useSelector)((function(e){return e.recoveryCategories})).allData,A=Object(c.useSelector)((function(e){return e.recoveries})),R=A.isLoading,D=(A.isSubmitting,A.formErrors);Object(n.useEffect)((function(){null!==t&&s(t)}),[t]),Object(n.useEffect)((function(){i(Object(v.getAllUsers)()),i(Object(h.getAllEmployees)()),i(Object(h.getAllAgents)()),i(Object(g.getAllVendors)()),i(Object(O.d)())}),[i]),Object(n.useEffect)((function(){t.userId&&i(Object(y.getAllUserCars)({userId:t.userId}))}),[t.userId]),Object(n.useEffect)((function(){t.vendorId&&i(Object(g.getAllVendorEmployees)(t.vendorId))}),[t.vendorId]);var _=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text";i(Object(x.recoveryEditChange)(e,t,r))},U=l.map((function(e){return{value:e._id,label:"".concat(e.firstName," ").concat(e.lastName)}})),W=t.userInfo,M=null;t.userId&&W.length>0&&(M={value:t.userId,label:"".concat(W[0].firstName," ").concat(W[0].lastName)});var F=N.map((function(e){return{value:e._id,label:"".concat(e.carMake," ").concat(e.carModel," ").concat(e.engineCapacity)}})),L=t.userCarInfo,B=null;t.userCarId&&L.length>0&&(B={value:t.userCarId,label:"".concat(L[0].carMake," ").concat(L[0].carModel," ").concat(L[0].engineCapacity)});var J=w.map((function(e){return{value:e._id,label:"".concat(e.firstName," ").concat(e.lastName)}})),T=t.employeeInfo,z=null;t.carhootEmployeeId&&T.length>0&&(z={value:t.carhootEmployeeId,label:"".concat(T[0].firstName," ").concat(T[0].lastName)});var G=P.map((function(e){return{value:e._id,label:"".concat(e.vendorName)}})),H=t.vendorInfo,K=null;t.vendorId&&H.length>0&&(K={value:t.vendorId,label:"".concat(H[0].vendorName)});var Q=E.map((function(e){return{value:e._id,label:"".concat(e.firstName," ").concat(e.lastName)}})),X=t.vendorEmployeeInfo,Y=null;t.vendorId&&X.length>0&&(Y={value:t.vendorId,label:"".concat(X[0].firstName," ").concat(X[0].lastName)});var Z=k.map((function(e){return{value:e._id,label:"".concat(e.firstName," ").concat(e.lastName)}})),$=t.fieldAgentInfo,ee=null;t.fieldAgentId&&$.length>0&&(ee={value:t.fieldAgentId,label:"".concat($[0].firstName," ").concat($[0].lastName)});var te=V.map((function(e){return{value:e._id,label:"".concat(e.serviceName)}})),re=t.categoryInfo,ae=null;return t.orderCategoryId&&re.length>0&&(ae={value:t.orderCategoryId,label:"".concat(re[0].serviceName)}),Object(I.jsx)(b.a,{children:Object(I.jsx)(j.a,{sm:"12",children:Object(I.jsx)(f.a,{onSubmit:function(e){e.preventDefault(),i(Object(x.updateRecovery)(t._id))},children:Object(I.jsxs)(b.a,{children:[Object(I.jsx)(j.a,{md:"4",sm:"12",children:Object(I.jsx)(p.a,{label:"User",error:D.userId,name:"userId",onInputChange:function(e,t){_(e,t,"option")},defaultValue:M,options:U,required:!0,className:u()({"is-invalid":D.userId})})}),Object(I.jsx)(j.a,{md:"4",sm:"12",children:Object(I.jsx)(p.a,{label:"User Car",error:D.userCarId,name:"userCarId",onInputChange:function(e,t){_(e,t,"option")},defaultValue:B,options:F,required:!0,className:u()({"is-invalid":D.userCarId})})}),Object(I.jsx)(j.a,{md:"4",sm:"12",children:Object(I.jsx)(p.a,{label:"Carhoot Employee",error:D.carhootEmployeeId,name:"carhootEmployeeId",onInputChange:function(e,t){_(e,t,"option")},defaultValue:z,options:J,required:!0,className:u()({"is-invalid":D.carhootEmployeeId})})}),Object(I.jsx)(j.a,{md:"4",sm:"12",children:Object(I.jsx)(p.a,{label:"Field Agent",error:D.fieldAgentId,name:"fieldAgentId",onInputChange:function(e,t){_(e,t,"option")},defaultValue:ee,options:Z,required:!0,className:u()({"is-invalid":D.fieldAgentId})})}),Object(I.jsx)(j.a,{md:"4",sm:"12",children:Object(I.jsx)(p.a,{label:"Vendor",error:D.vendorId,name:"vendorId",onInputChange:function(e,t){_(e,t,"option")},defaultValue:K,options:G,required:!0,className:u()({"is-invalid":D.vendorId})})}),Object(I.jsx)(j.a,{md:"4",sm:"12",children:Object(I.jsx)(p.a,{label:"Vendor Employee",error:D.vendorEmployeeId,name:"vendorEmployeeId",onInputChange:function(e,t){_(e,t,"option")},defaultValue:Y,options:Q,required:!0,className:u()({"is-invalid":D.vendorEmployeeId})})}),Object(I.jsx)(j.a,{md:"4",sm:"12",children:Object(I.jsx)(p.a,{label:"Category",error:D.orderCategoryId,name:"orderCategoryId",onInputChange:function(e,t){_(e,t,"option")},defaultValue:ae,options:te,required:!0,className:u()({"is-invalid":D.orderCategoryId})})}),Object(I.jsx)(j.a,{md:"4",sm:"12",children:Object(I.jsx)(d.a,{type:"number",label:"Order Price",error:D.orderPrice,name:"orderPrice",placeholder:"Order Price",onInputChange:function(e,t){_(e,t)},defaultValue:t.orderPrice,required:!0,className:u()({"is-invalid":D.orderPrice})})}),Object(I.jsxs)(j.a,{className:"d-flex flex-sm-row flex-column mt-2",sm:"12",children:[Object(I.jsx)(C.a,{blocking:R,className:"mr-sm-1",children:Object(I.jsx)(m.a.Ripple,{className:"mb-1 mb-sm-0 mr-0",type:"submit",color:"primary",children:"Save Changes"})}),Object(I.jsx)(m.a.Ripple,{color:"secondary",outline:!0,children:"Reset"})]})]})})})})},q=(r(172),r(514),r(222),r(130),r(499),r(245),r(600),r(141),r(249),r(250),r(181),r(246),r(443),r(444),r(536),r(145)),w=r(171),k=r(252),S=r(510),P=r(511),E=r(254),V=r(255),A=r(158);r(118),t.default=function(){var e=Object(n.useState)("1"),t=Object(a.a)(e,2),r=t[0],l=t[1],u=Object(c.useDispatch)(),d=Object(c.useSelector)((function(e){return e.recoveries})),p=d.isLoading,f=d.selectedRecovery,m=Object(o.i)().id;return Object(n.useEffect)((function(){u(Object(x.getRecovery)(m))}),[u]),null!==f&&void 0!==f?Object(I.jsx)(C.a,{blocking:p,children:Object(I.jsx)(b.a,{className:"app-user-edit",children:Object(I.jsx)(j.a,{sm:"12",children:Object(I.jsx)(q.a,{children:Object(I.jsxs)(w.a,{className:"pt-2",children:[Object(I.jsx)(k.a,{pills:!0,children:Object(I.jsx)(S.a,{children:Object(I.jsxs)(P.a,{active:"1"===r,onClick:function(){return l("1")},children:[Object(I.jsx)(i.a,{size:14}),Object(I.jsx)("span",{className:"align-middle d-none d-sm-block",children:"Account"})]})})}),Object(I.jsx)(E.a,{activeTab:r,children:Object(I.jsx)(V.a,{tabId:"1",children:Object(I.jsx)(N,{selectedRecovery:f})})})]})})})})}):Object(I.jsxs)(A.a,{color:"danger",children:[Object(I.jsx)("h4",{className:"alert-heading",children:"Recovery not found"}),Object(I.jsxs)("div",{className:"alert-body",children:["Recovery with id: ",m," doesn't exist. Check list of all RecoveryCategories: ",Object(I.jsx)(s.b,{to:"/recoveryRequest/list",children:"RecoveryCategories List"})]})]})}}}]);